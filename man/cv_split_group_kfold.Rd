% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/k_fold.R
\name{cv_split_group_kfold}
\alias{cv_split_group_kfold}
\title{Resamples for group K-fold cross-validation with stratification by mean
value of target variable.}
\usage{
cv_split_group_kfold(data, y, id, nfolds = 5L, probs = seq(0, 1,
  length.out = 11))
}
\arguments{
\item{data}{data.table with \code{y} and \code{id}.}

\item{y}{Target variable name (character).}

\item{id}{Identifier of each group of observations (character).}

\item{nfolds}{Number of folds (min 2, max 20).}

\item{probs}{Numeric vector of probabilities for quantile binning
with values in \emph{[0, 1]} range.}
}
\value{
data.table with \code{nfolds} columns. Each column is an indicator variable
with 1 corresponds to observations in validation dataset (stratified by target).
}
\description{
Resamples for group K-fold cross-validation with stratification by mean
value of target variable.
}
\details{
Numeric target: quantile binning is used for stratification.

Character/categorical target: resampling performs within categories.

\code{probs} can be a vector like \code{c(0, seq(0.99, 1, length.out = 10))}
for target with very skewed distribution, e.g. for financial data with 99\% of 0's.

Ensures that all observations for each \code{id} will be placed in the same fold.
}
\examples{
dt <- data.table(
    user = rep(1:100, each = 5),
    target = rnorm(5e2)
)
cv_split_group_kfold(dt, "target", "user")

}
